(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11769a7e"],{"169a":function(t,e,s){"use strict";s("368e");var a=s("4ad4"),i=s("b848"),o=s("75eb"),r=s("e707"),n=s("e4d3"),l=s("21be"),d=s("f2e7"),c=s("a293"),u=s("80d2"),h=s("bfc5"),p=s("58df");const m=Object(p["a"])(a["a"],i["a"],o["a"],r["a"],n["a"],l["a"],d["a"]);e["a"]=m.extend({name:"v-dialog",directives:{ClickOutside:c["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,fullWidth:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes(){return{[`v-dialog ${this.contentClass}`.trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(t){t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},beforeMount(){this.$nextTick(()=>{this.isBooted=this.isActive,this.isActive&&this.show()})},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick(()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout(()=>this.animate=!1,150)})},closeConditional(t){const e=t.target;return!(!this.isActive||this.$refs.content.contains(e))&&(this.$emit("click:outside"),this.persistent?(this.noClickAnimation||this.overlay!==e||this.animateClick(),!1):this.activeZIndex>=this.getMaxZIndex())},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):r["a"].options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$refs.content.focus(),this.bind()},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onKeydown(t){if(t.keyCode===u["u"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const t=this.getActivator();this.$nextTick(()=>t&&t.focus())}this.$emit("keydown",t)},onFocusin(t){if(!t||!this.retainFocus)return;const e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some(t=>t.contains(e))){const t=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t.length&&t[0].focus()}}},render(t){const e=[],s={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:()=>{this.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:t=>{t.stopPropagation()}},style:{}};this.fullscreen||(s.style={maxWidth:"none"===this.maxWidth?void 0:Object(u["e"])(this.maxWidth),width:"auto"===this.width?void 0:Object(u["e"])(this.width)}),e.push(this.genActivator());let a=t("div",s,this.showLazyContent(this.getContentSlot()));return this.transition&&(a=t("transition",{props:{name:this.transition,origin:this.origin}},[a])),e.push(t("div",{class:this.contentClasses,attrs:{role:"document",tabindex:0,...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.$createElement(h["a"],{props:{root:!0,light:this.light,dark:this.dark}},[a])])),t("div",{staticClass:"v-dialog__container",attrs:{role:"dialog"},style:{display:!this.hasActivator||this.fullWidth?"block":"inline-block"}},e)}})},"2db4":function(t,e,s){"use strict";s("ca71");var a=s("a9ad"),i=s("f2e7"),o=s("fe6c"),r=s("58df"),n=s("d9bd");e["a"]=Object(r["a"])(a["a"],i["a"],Object(o["b"])(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive(){this.setTimeout()}},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(n["d"])("auto-height",this)},mounted(){this.setTimeout()},methods:{setTimeout(){window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},this.timeout))}},render(t){return t("transition",{attrs:{name:"v-snack-transition"}},[this.isActive&&t("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[t("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper"}),[t("div",{staticClass:"v-snack__content"},this.$slots.default)])])])}})},"368e":function(t,e,s){},"4bd4":function(t,e,s){"use strict";var a=s("3206");e["a"]=Object(a["b"])("form").extend({name:"v-form",inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>{return t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0})},s={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",a=>{a&&(this.errorBag.hasOwnProperty(t._uid)||(s.valid=e(t)))}):s.valid=e(t),s},validate(){return this.inputs.every(t=>t.validate(!0))},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const s=this.watchers.find(t=>t._uid===e._uid);s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.$attrs},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},"9cec":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-flex",[t.loadingInitialElements?s("VProgress",{staticClass:"text-center",attrs:{message:"Cargando"}}):s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"animated fadeIn",attrs:{xs12:""}},[s("v-card",[s("v-container",{attrs:{"pa-10":""}},[s("v-form",{ref:"form",model:{value:t.profileValidationStatus,callback:function(e){t.profileValidationStatus=e},expression:"profileValidationStatus"}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{sm5:"",md5:""}},[s("v-text-field",{attrs:{name:"name",label:"Nombres",type:"text",rules:t.nameRules},model:{value:t.userData.first_name,callback:function(e){t.$set(t.userData,"first_name",e)},expression:"userData.first_name"}}),s("v-text-field",{attrs:{name:"last_name",label:"Apellidos",type:"text",rules:t.lastNameRules},model:{value:t.userData.last_name,callback:function(e){t.$set(t.userData,"last_name",e)},expression:"userData.last_name"}})],1),s("v-flex",{attrs:{"offset-sm2":"",sm5:""}},[s("v-text-field",{attrs:{name:"email",label:"Correo electrónico",type:"email",rules:t.emailRules},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}}),s("v-text-field",{attrs:{name:"address",label:"Nombre de usuario",type:"text",rules:t.nameRules},model:{value:t.userData.username,callback:function(e){t.$set(t.userData,"username",e)},expression:"userData.username"}})],1)],1),s("v-layout",{attrs:{row:"",wrap:"","mt-5":""}},[s("v-flex",{attrs:{xs12:"","mt-2":""}},[s("v-tooltip",{attrs:{bottom:"",color:t.validationColor},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({staticClass:"white--text",class:{red:!t.profileValidationStatus,indigo:t.profileValidationStatus},attrs:{disabled:t.loading},on:{click:function(e){return t.updateProfile()}}},a),[t.loading?s("v-progress-circular",{staticClass:"gray--text fa",attrs:{width:2,size:"18",indeterminate:""}}):!t.loading&&t.profileValidationStatus?s("v-icon",{attrs:{small:""}},[t._v("check")]):t.loading||t.profileValidationStatus?t._e():s("v-icon",{attrs:{small:""}},[t._v("error_outline")]),t._v("Actualizar perfil\n                  ")],1)]}}])},[s("span",[t._v(t._s(t.validationMessage))])])],1),s("v-flex",{attrs:{xs12:"","mt-2":""}},[s("v-btn",{staticClass:"white--text",attrs:{color:"warning"},on:{click:function(e){t.dlgChangePassword=!0}}},[s("v-icon",{attrs:{size:"22"}},[t._v("lock")]),t._v(" Cambiar contraseña\n                ")],1)],1)],1),s("v-dialog",{attrs:{width:"400",persistent:""},model:{value:t.dlgChangePassword,callback:function(e){t.dlgChangePassword=e},expression:"dlgChangePassword"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Cambiar contraseña")]),s("v-container",{attrs:{"pt-5":"","pr-10":"","pb-5":"","pl-10":""}},[s("v-form",{ref:"passwordForm",model:{value:t.passwordValidationStatus,callback:function(e){t.passwordValidationStatus=e},expression:"passwordValidationStatus"}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-text-field",{attrs:{"prepend-icon":"lock",label:"Actual",rules:t.nameRules,type:"password",hint:"Clave actual"},model:{value:t.userData.current_password,callback:function(e){t.$set(t.userData,"current_password",e)},expression:"userData.current_password"}}),s("v-text-field",{attrs:{"prepend-icon":"lock",label:"Nueva",rules:t.passwordRules,type:"password",hint:"Al menos 6 caracteres"},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}}),s("v-text-field",{attrs:{"prepend-icon":"lock",label:"Confirmar",rules:t.passwordConfirmRules,type:"password",hint:"Vuelva a escribir la clave"},model:{value:t.userData.password_confirm,callback:function(e){t.$set(t.userData,"password_confirm",e)},expression:"userData.password_confirm"}})],1),s("v-layout",{attrs:{row:"",wrap:"","mt-4":""}},[s("v-spacer"),s("v-btn",{staticClass:"white--text",attrs:{disabled:t.loading,color:"info"},on:{click:function(e){return t.changePassword()}}},[t.loading?s("v-progress-circular",{staticClass:"gray--text fa",attrs:{width:2,size:"18",indeterminate:""}}):s("v-icon",{attrs:{size:"22"}},[t._v("done")]),t._v("Aceptar\n                      ")],1),s("v-btn",{staticClass:"white--text ml-1",attrs:{color:"error"},on:{click:function(e){return t.closePasswordDlg()}}},[s("v-icon",{attrs:{size:"22"}},[t._v("cancel")]),t._v("Cancelar\n                      ")],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),s("v-snackbar",{attrs:{timeout:5e3,bottom:!0,right:!0,color:t.operationMessageType},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[s("v-icon",{staticClass:"white--text fa",attrs:{small:""}},[t._v("info")]),t._v("\n    "+t._s(t.operationMessage)+"\n    "),s("v-btn",{attrs:{text:""},nativeOn:{click:function(e){t.snackbar=!1}}},[s("v-icon",{attrs:{small:""}},[t._v("close")])],1)],1),s("AxiosComponent",{ref:"axios",on:{finish:function(e){return t.handleHttpResponse(e)}}})],1)},i=[],o={data(){return{dlgChangePassword:!1,dlgCancelReg:!1,uploadDialog:!1,uploadingImage:!1,loadingInitialElements:!0,snackbar:!1,nameRules:[t=>!!t||"Este dato es obligatorio"],lastNameRules:[t=>!!t||"Este dato es obligatorio"],dsaLetterRules:[t=>!!t||"Este dato es obligatorio"],passwordRules:[t=>!!t||"Este dato es obligatorio",t=>t&&t.length>5||"Al menos 6 caracteres"],passwordConfirmRules:[t=>!!t||"Este dato es obligatorio",t=>t===this.userData.password||"Los valores no coinciden"],emailRules:[t=>!!t||"Este dato es obligatorio",t=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)||"El formato no es correcto"],postcodeRules:[t=>!!t||"Este dato es obligatorio"],addressRules:[t=>!!t||"Este dato es obligatorio"],operationMessage:"Introduzca sus credenciales",operationMessageType:"warning",uploadDlg:!1,profileValidationStatus:!1,passwordValidationStatus:!1,loading:!1,userData:{}}},computed:{validationMessage:function(){return this.profileValidationStatus?"Todo listo!":"Verifique sus datos"},validationColor:function(){return this.profileValidationStatus?"indigo":"red"}},mounted(){this.getProfileInfo()},methods:{updateProfile(){if(this.$refs.form.validate()){this.loading=!0;let t={method:"form",url:"auth/update-profile",params:new FormData,headers:{"Content-Type":"multipart/form-data"}};t.params.append("user_data",JSON.stringify(this.userData)),this.userData.dsa_letter&&t.params.append("dsa_letter",this.userData.dsa_letter),this.$refs.axios.submit(t)}},changePassword(){if(this.$refs.passwordForm.validate()){this.loading=!0;var t={url:"auth/change-password",method:"post",params:{current_password:this.userData.current_password,password:this.userData.password,password_confirm:this.userData.password_confirm}};this.$refs.axios.submit(t)}},closePasswordDlg(){this.userData.current_password=null,this.userData.password=null,this.userData.password_confirm=null,this.dlgChangePassword=!1},getProfileInfo(){this.loadingInitialElements=!0;let t={url:"auth/get-profile",params:{}};this.$refs.axios.submit(t)},setDSALetter(t){this.userData.dsa_letter=t,t?(this.userData.dsa_letter_name=t.name,this.uploadDlg=!1):this.userData.dsa_letter_name=null},showUpload(){this.uploadDialog=!0},handleHttpResponse(t){if(this.loading=!1,this.loadingInitialElements=!1,200===t.data.result.code){var e=t.data.result.response;switch(this.operationMessage=e.msg,this.operationMessageType=e.code,t.url.substring(t.url.lastIndexOf("/")+1)){case"upload-signature":this.snackbar=!0,this.uploadingImage=!1;break;case"get-profile":"success"===e.code?this.userData=e.data:this.snackbar=!0;break;case"change-password":this.snackbar=!0,"success"===e.code&&(this.dlgChangePassword=!1);break;default:this.snackbar=!0;break}}else this.operationMessage="La solicitud no pudo ser procesada.",this.operationMessageType="error",this.snackbar=!0}}},r=o,n=s("2877"),l=s("6544"),d=s.n(l),c=s("8336"),u=s("b0af"),h=s("99d9"),p=s("a523"),m=s("169a"),v=s("0e8f"),f=s("4bd4"),g=s("132d"),w=s("a722"),b=s("490a"),k=s("2db4"),_=s("2fa4"),x=s("8654"),y=s("3a2f"),C=Object(n["a"])(r,a,i,!1,null,null,null);e["default"]=C.exports;d()(C,{VBtn:c["a"],VCard:u["a"],VCardTitle:h["c"],VContainer:p["a"],VDialog:m["a"],VFlex:v["a"],VForm:f["a"],VIcon:g["a"],VLayout:w["a"],VProgressCircular:b["a"],VSnackbar:k["a"],VSpacer:_["a"],VTextField:x["a"],VTooltip:y["a"]})},ca71:function(t,e,s){}}]);
//# sourceMappingURL=chunk-11769a7e.a44a92db.js.map