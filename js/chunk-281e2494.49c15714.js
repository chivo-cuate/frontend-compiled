(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-281e2494"],{"3a2f":function(t,e,a){"use strict";a("9734");var s=a("4ad4"),i=a("a9ad"),o=a("16b7"),r=a("b848"),l=a("75eb"),n=a("f573"),u=a("f2e7"),d=a("80d2"),c=a("d9bd"),h=a("58df");e["a"]=Object(h["a"])(i["a"],o["a"],r["a"],l["a"],n["a"],u["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:e}=this.dimensions,a=!this.bottom&&!this.left&&!this.top&&!this.right,s=!1!==this.attach?t.offsetLeft:t.left;let i=0;return this.top||this.bottom||a?i=s+t.width/2-e.width/2:(this.left||this.right)&&(i=s+(this.right?t.width:-e.width)+(this.right?10:-10)),this.nudgeLeft&&(i-=parseInt(this.nudgeLeft)),this.nudgeRight&&(i+=parseInt(this.nudgeRight)),`${this.calcXOverflow(i,this.dimensions.content.width)}px`},calculatedTop(){const{activator:t,content:e}=this.dimensions,a=!1!==this.attach?t.offsetTop:t.top;let s=0;return this.top||this.bottom?s=a+(this.bottom?t.height:-e.height)+(this.bottom?10:-10):(this.left||this.right)&&(s=a+t.height/2-e.height/2),this.nudgeTop&&(s-=parseInt(this.nudgeTop)),this.nudgeBottom&&(s+=parseInt(this.nudgeBottom)),`${this.calcYOverflow(s+this.pageYOffset)}px`},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:Object(d["g"])(this.maxWidth),minWidth:Object(d["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick(()=>{this.value&&this.callActivate()})},mounted(){"v-slot"===Object(d["s"])(this,"activator",!0)&&Object(c["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=s["a"].options.methods.genActivatorListeners.call(this);return t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")},t.keydown=t=>{t.keyCode===d["w"].esc&&(this.getActivator(t),this.runDelay("close"))},t}},render(t){const e=t("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.showLazyContent(this.getContentSlot()));return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[t("transition",{props:{name:this.computedTransition}},[e]),this.genActivator()])}})},9734:function(t,e,a){},"9cec":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",[t.loadingInitialElements?a("VProgress",{staticClass:"text-center",attrs:{message:"Cargando"}}):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"animated fadeIn",attrs:{xs10:"","offset-xs1":""}},[a("v-card",[a("v-container",{attrs:{"pa-10":""}},[a("v-form",{ref:"form",on:{submit:function(t){t.preventDefault()}},model:{value:t.profileValidationStatus,callback:function(e){t.profileValidationStatus=e},expression:"profileValidationStatus"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{outlined:"",autofocus:!0,label:"Nombres",rules:t.nameRules},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save()}},model:{value:t.userData.first_name,callback:function(e){t.$set(t.userData,"first_name",e)},expression:"userData.first_name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{outlined:"",label:"Apellidos",rules:t.nameRules},model:{value:t.userData.last_name,callback:function(e){t.$set(t.userData,"last_name",e)},expression:"userData.last_name"}})],1)],1),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{outlined:"",label:"Nombre de usuario",rules:t.nameRules},model:{value:t.userData.username,callback:function(e){t.$set(t.userData,"username",e)},expression:"userData.username"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{outlined:"",label:"Correo electrónico",type:"email",rules:t.emailRules},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}})],1)],1),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{outlined:"",label:"INE",rules:t.nameRules},model:{value:t.userData.ine,callback:function(e){t.$set(t.userData,"ine",e)},expression:"userData.ine"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{outlined:"",label:"Teléfono"},model:{value:t.userData.phone_number,callback:function(e){t.$set(t.userData,"phone_number",e)},expression:"userData.phone_number"}})],1)],1),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{outlined:"",label:"Dirección",rules:t.nameRules},model:{value:t.userData.address,callback:function(e){t.$set(t.userData,"address",e)},expression:"userData.address"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{items:[{value:"F",text:"Femenino"},{value:"M",text:"Masculino"}],outlined:"",label:"Sexo",rules:t.nameRules},model:{value:t.userData.sex,callback:function(e){t.$set(t.userData,"sex",e)},expression:"userData.sex"}})],1)],1),a("v-divider"),a("v-layout",{attrs:{row:"",wrap:"","mt-3":"","ml-1":""}},[a("v-flex",{attrs:{xs12:"","mt-2":""}},[a("v-tooltip",{attrs:{right:"",color:t.validationColor},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"white--text",attrs:{disabled:t.loading,color:t.profileValidationStatus?t.$store.getters.getThemeColor:"error"},on:{click:function(e){return t.updateProfile()}}},s),[t.loading?a("v-progress-circular",{staticClass:"gray--text fa",attrs:{width:2,size:"18",indeterminate:""}}):!t.loading&&t.profileValidationStatus?a("v-icon",{attrs:{small:""}},[t._v("check")]):t.loading||t.profileValidationStatus?t._e():a("v-icon",{attrs:{small:""}},[t._v("error_outline")]),t._v("Actualizar perfil\n                    ")],1)]}}])},[a("span",[t._v(t._s(t.validationMessage))])])],1),a("v-flex",{attrs:{xs12:"","mt-2":""}},[a("v-btn",{staticClass:"white--text",attrs:{color:"warning"},on:{click:function(e){t.dlgChangePassword=!0}}},[a("v-icon",{attrs:{size:"22"}},[t._v("lock")]),t._v(" Cambiar contraseña\n                ")],1)],1)],1),a("v-dialog",{attrs:{width:"400",persistent:""},model:{value:t.dlgChangePassword,callback:function(e){t.dlgChangePassword=e},expression:"dlgChangePassword"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2"},[t._v("Cambiar contraseña")]),a("v-container",{attrs:{"pt-5":"","pr-10":"","pb-5":"","pl-10":""}},[a("v-form",{ref:"passwordForm",on:{submit:function(t){t.preventDefault()}},model:{value:t.passwordValidationStatus,callback:function(e){t.passwordValidationStatus=e},expression:"passwordValidationStatus"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-text-field",{attrs:{autofocus:"","prepend-icon":"lock",label:"Actual",rules:t.nameRules,type:"password",hint:"Clave actual"},model:{value:t.userData.current_password,callback:function(e){t.$set(t.userData,"current_password",e)},expression:"userData.current_password"}}),a("v-text-field",{attrs:{"prepend-icon":"lock",label:"Nueva",rules:t.passwordRules,type:"password",hint:"Al menos 6 caracteres"},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}}),a("v-text-field",{attrs:{"prepend-icon":"lock",label:"Confirmar",rules:t.passwordConfirmRules,type:"password",hint:"Vuelva a escribir la clave"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePassword()}},model:{value:t.userData.password_confirm,callback:function(e){t.$set(t.userData,"password_confirm",e)},expression:"userData.password_confirm"}})],1),a("v-layout",{attrs:{row:"",wrap:"","mt-4":""}},[a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{disabled:t.loading,color:t.$store.getters.getThemeColor,text:""},on:{click:function(e){return t.changePassword()}}},[t.loading?a("v-progress-circular",{staticClass:"gray--text fa",attrs:{width:2,size:"18",indeterminate:""}}):a("v-icon",{attrs:{size:"22"}},[t._v("done")]),t._v("Aceptar\n                      ")],1),a("v-btn",{staticClass:"white--text ml-1",attrs:{color:"error",text:""},on:{click:function(e){return t.closePasswordDlg()}}},[t._v("Cancelar")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),a("AxiosComponent",{ref:"axios",on:{finish:function(e){return t.handleHttpResponse(e)}}})],1)},i=[],o={data(){return{dlgChangePassword:!1,uploadDialog:!1,loadingInitialElements:!0,nameRules:[t=>!!t||"Dato obligatorio"],passwordRules:[t=>!!t||"Dato obligatorio",t=>t&&t.length>5||"Al menos 6 caracteres"],passwordConfirmRules:[t=>!!t||"Dato obligatorio",t=>t===this.userData.password||"Los valores no coinciden"],emailRules:[t=>!!t||"Dato obligatorio",t=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)||"El formato no es correcto"],uploadDlg:!1,profileValidationStatus:!1,passwordValidationStatus:!1,loading:!1,userData:{}}},computed:{validationMessage:function(){return this.profileValidationStatus?"Todo listo!":"Verifique sus datos"},validationColor:function(){return this.profileValidationStatus?"grey":"red"}},mounted(){this.getProfileInfo()},methods:{updateProfile(){if(this.$refs.form.validate()){this.loading=!0;let t={method:"form",snackbar:!0,url:"auth/update-profile",params:new FormData,headers:{"Content-Type":"multipart/form-data"}};t.params.append("item",JSON.stringify(this.userData)),this.$refs.axios.submit(t)}},changePassword(){if(this.$refs.passwordForm.validate()){this.loading=!0;var t={url:"auth/change-password",method:"post",snackbar:!0,params:{current_password:this.userData.current_password,password:this.userData.password,password_confirm:this.userData.password_confirm}};this.$refs.axios.submit(t)}},closePasswordDlg(){this.userData.current_password=null,this.userData.password=null,this.userData.password_confirm=null,this.dlgChangePassword=!1},getProfileInfo(){this.loadingInitialElements=!0;let t={url:"auth/get-profile",params:{}};this.$refs.axios.submit(t)},setDSALetter(t){this.userData.dsa_letter=t,t?(this.userData.dsa_letter_name=t.name,this.uploadDlg=!1):this.userData.dsa_letter_name=null},showUpload(){this.uploadDialog=!0},handleHttpResponse(t){if(this.loading=!1,this.loadingInitialElements=!1,200===t.data.result.code){var e=t.data.result.response;switch(t.url.substring(t.url.lastIndexOf("/")+1)){case"get-profile":"success"===e.code&&(this.userData=e.data);break;case"change-password":"success"===e.code&&(this.dlgChangePassword=!1);break;default:break}}}}},r=o,l=a("2877"),n=a("6544"),u=a.n(n),d=a("8336"),c=a("b0af"),h=a("99d9"),p=a("a523"),f=a("169a"),m=a("ce7e"),v=a("0e8f"),g=a("4bd4"),w=a("132d"),b=a("a722"),x=a("490a"),D=a("b974"),_=a("2fa4"),y=a("8654"),k=a("3a2f"),C=Object(l["a"])(r,s,i,!1,null,null,null);e["default"]=C.exports;u()(C,{VBtn:d["a"],VCard:c["a"],VCardTitle:h["c"],VContainer:p["a"],VDialog:f["a"],VDivider:m["a"],VFlex:v["a"],VForm:g["a"],VIcon:w["a"],VLayout:b["a"],VProgressCircular:x["a"],VSelect:D["a"],VSpacer:_["a"],VTextField:y["a"],VTooltip:k["a"]})}}]);
//# sourceMappingURL=chunk-281e2494.49c15714.js.map