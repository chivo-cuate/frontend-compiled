(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fe40369"],{"3a2f":function(t,e,i){"use strict";i("9734");var s=i("4ad4"),n=i("a9ad"),a=i("16b7"),r=i("b848"),o=i("75eb"),d=i("f573"),l=i("f2e7"),c=i("80d2"),u=i("d9bd"),h=i("58df");e["a"]=Object(h["a"])(n["a"],a["a"],r["a"],o["a"],d["a"],l["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:e}=this.dimensions,i=!this.bottom&&!this.left&&!this.top&&!this.right,s=!1!==this.attach?t.offsetLeft:t.left;let n=0;return this.top||this.bottom||i?n=s+t.width/2-e.width/2:(this.left||this.right)&&(n=s+(this.right?t.width:-e.width)+(this.right?10:-10)),this.nudgeLeft&&(n-=parseInt(this.nudgeLeft)),this.nudgeRight&&(n+=parseInt(this.nudgeRight)),this.calcXOverflow(n,this.dimensions.content.width)+"px"},calculatedTop(){const{activator:t,content:e}=this.dimensions,i=!1!==this.attach?t.offsetTop:t.top;let s=0;return this.top||this.bottom?s=i+(this.bottom?t.height:-e.height)+(this.bottom?10:-10):(this.left||this.right)&&(s=i+t.height/2-e.height/2),this.nudgeTop&&(s-=parseInt(this.nudgeTop)),this.nudgeBottom&&(s+=parseInt(this.nudgeBottom)),this.calcYOverflow(s+this.pageYOffset)+"px"},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:Object(c["g"])(this.maxWidth),minWidth:Object(c["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick(()=>{this.value&&this.callActivate()})},mounted(){"v-slot"===Object(c["s"])(this,"activator",!0)&&Object(u["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=s["a"].options.methods.genActivatorListeners.call(this);return t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")},t.keydown=t=>{t.keyCode===c["w"].esc&&(this.getActivator(t),this.runDelay("close"))},t},genTransition(){const t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render(t){return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent(()=>[this.genTransition()]),this.genActivator()])}})},"6ca7":function(t,e,i){},9734:function(t,e,i){},ac7c:function(t,e,i){"use strict";i("6ca7"),i("ec29");var s=i("9d26"),n=i("c37a"),a=i("5607"),r=i("2b0e"),o=r["default"].extend({name:"rippleable",directives:{ripple:a["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),t.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",t)):null},onChange(){}}}),d=i("8547"),l=i("58df"),c=Object(l["a"])(n["a"],o,d["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some(e=>this.valueComparator(e,t)):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=n["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:t=>{t.preventDefault(),this.onChange()}},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur(){this.isFocused=!1},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const i=e.length;e=e.filter(e=>!this.valueComparator(e,t)),e.length===i&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(){this.isFocused=!0},onKeydown(t){}}});e["a"]=c.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick(()=>this.inputIndeterminate=t)},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(s["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...this.attrs$,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}})},d73b:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",md4:""}},[i("v-card",[i("v-list",{attrs:{dense:""}},t._l(t.$store.getters.getPermissions("Productos"),(function(e,s){return i("v-list-item",{key:"action-"+s,attrs:{to:e.slug}},[i("v-list-item-action",[i("v-icon",{attrs:{color:t.$store.getters.getThemeColor}},[t._v(t._s(e.icon))])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.name))])],1)],1)})),1)],1)],1),i("v-flex",{attrs:{xs12:"",md8:"","text-center":""}},[i("v-flex",{attrs:{md11:"","offset-md1":""}},[i("v-card",{staticClass:"elevation-0"},[i("p",{staticClass:"text-center uppercase white--text",class:t.$store.getters.getThemeColor},[t._v(t._s(t.$route.params.action))]),"inicio"===t.currAction?i("Index"):t._e(),"ingredientes"===t.currAction?i("AssetType",{staticClass:"animated fadeIn",attrs:{apiUrl:t.currAction}}):t._e(),"almacen"===t.currAction?i("Stock",{staticClass:"animated fadeIn"}):t._e(),"productos"===t.currAction?i("AssetType",{staticClass:"animated fadeIn",attrs:{apiUrl:t.currAction}}):t._e(),"menu-diario"===t.currAction?i("DailyMenu",{staticClass:"animated fadeIn"}):t._e()],1)],1)],1)],1)],1)},n=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",[i("span",{staticClass:"title"},[t._v("Seleccione la opción deseada.")])])},r=[],o={data:()=>({})},d=o,l=i("2877"),c=i("6544"),u=i.n(c),h=i("0e8f"),m=Object(l["a"])(d,a,r,!1,null,null,null),g=m.exports;u()(m,{VFlex:h["a"]});var p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-flex",{attrs:{xs12:""}},[i("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,page:t.page,"items-per-page":10,loading:t.loadingItems,"footer-props":{itemsPerPageText:"Elementos por página",itemsPerPageOptions:[{value:5,text:"5"},{value:10,text:"10"},{value:20,text:"20"},{value:9999999999,text:"Todos"}],showFirstLastPage:!1},"item-key":"name"},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:"",color:"white"}},[i("v-toolbar-title",{staticClass:"success--text uppercase"},[t._v(t._s(t.apiUrl))]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"500px",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-btn",t._g({staticClass:"mb-2",attrs:{disabled:t.loadingItems||t.updatingItem,color:t.$store.getters.getThemeColor,dark:""},on:{click:function(e){return t.showDlgAddEdit(null)}}},s),[i("v-icon",{attrs:{small:""}},[t._v("add")]),t._v("Adicionar\n            ")],1)]}}]),model:{value:t.dlgUpdateItem,callback:function(e){t.dlgUpdateItem=e},expression:"dlgUpdateItem"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"subtitle"},[t._v(t._s(t.formTitle))])]),i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-form",{ref:"form",on:{submit:function(t){t.preventDefault()}},model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-text-field",{attrs:{rules:t.requiredRules,outlined:"",label:"Nombre"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),i("v-flex",{attrs:{xs12:""}},[i("v-autocomplete",{attrs:{outlined:"",rules:t.requiredRules,items:t.measureUnits,"item-text":"name","item-value":"id",label:"Unidad de medida","no-data-text":"No hay resultados"},model:{value:t.editedItem.measure_unit_id,callback:function(e){t.$set(t.editedItem,"measure_unit_id",e)},expression:"editedItem.measure_unit_id"}})],1),"productos"===t.apiUrl?i("v-flex",{attrs:{xs12:""}},[i("v-autocomplete",{attrs:{outlined:"",rules:t.requiredRules,items:t.categories,"item-text":"name","item-value":"id",label:"Categoría","no-data-text":"No hay resultados"},model:{value:t.editedItem.category_id,callback:function(e){t.$set(t.editedItem,"category_id",e)},expression:"editedItem.category_id"}})],1):t._e()],1),t.editedItem.id>0?i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-checkbox",{attrs:{label:"Activo"},model:{value:t.editedItem.status,callback:function(e){t.$set(t.editedItem,"status",e)},expression:"editedItem.status"}})],1)],1):t._e()],1)],1)],1),i("v-card-actions",{staticClass:"mr-5"},[i("v-spacer"),i("v-btn",{attrs:{disabled:!t.validForm||t.updatingItem,color:t.$store.getters.getThemeColor,text:""},on:{click:function(e){return t.save()}}},[t.updatingItem?i("v-progress-circular",{staticClass:"v-icon",attrs:{size:15,width:1,indeterminate:"",color:t.$store.getters.getThemeColor}}):i("v-icon",{attrs:{small:""}},[t._v("check")]),i("span",[t._v("Aceptar")])],1),i("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dlgUpdateItem=!1}}},[t._v("Cancelar")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"300px",persistent:""},model:{value:t.dlgDeleteItem,callback:function(e){t.dlgDeleteItem=e},expression:"dlgDeleteItem"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"subtitle"},[t._v("Eliminar elemento")])]),i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("p",[t._v("¿Seguro que desea eliminar el elemento "+t._s(t.editedItem.name)+"?")])])],1)],1)],1),i("v-card-actions",{staticClass:"mr-5"},[i("v-spacer"),i("v-btn",{attrs:{disabled:t.deletingItem,color:t.$store.getters.getThemeColor,text:""},on:{click:function(e){return t.remove()}}},[t.updatingItem?i("v-progress-circular",{staticClass:"v-icon",attrs:{size:15,width:1,indeterminate:"",color:t.$store.getters.getThemeColor}}):i("v-icon",{attrs:{small:""}},[t._v("check")]),i("span",[t._v("Aceptar")])],1),i("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dlgDeleteItem=!1}}},[t._v("Cancelar")])],1)],1)],1),i("v-dialog",{attrs:{"max-width":"700px",persistent:""},model:{value:t.dlgIngredients,callback:function(e){t.dlgIngredients=e},expression:"dlgIngredients"}},[i("v-card",[i("v-card-text",[i("v-container",{attrs:{"grid-list-md":""}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-data-table",{staticClass:"elevation-1",attrs:{items:t.editedIngredients,headers:t.ingredientsHeaders,"items-per-page":5,"footer-props":{itemsPerPageText:"Elementos por página",showFirstLastPage:!1},"item-key":"index"},scopedSlots:t._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{flat:"",color:"white"}},[i("v-toolbar-title",{staticClass:"success--text"},[t._v("Ingredientes")]),i("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),i("v-spacer"),i("v-dialog",{attrs:{"max-width":"350px",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-btn",t._g({staticClass:"mb-2",attrs:{color:"success",dark:""},on:{click:function(e){return t.showDlgEditIngredient(null)}}},s),[t._v("Adicionar")])]}}]),model:{value:t.dlgEditIngredient,callback:function(e){t.dlgEditIngredient=e},expression:"dlgEditIngredient"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"subtitle"},[t._v(t._s((t.editedIngredientIndex>=0?"Editar":"Adicionar")+" ingrediente"))])]),i("v-card-text",[i("v-container",[i("v-form",{ref:"ingredientForm",on:{submit:function(t){t.preventDefault()}},model:{value:t.validIngredientForm,callback:function(e){t.validIngredientForm=e},expression:"validIngredientForm"}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-autocomplete",{attrs:{outlined:"",rules:t.requiredRules,items:t.ingredients,"item-value":"id","item-text":"name",label:"Ingrediente","no-data-text":"No hay resultados"},model:{value:t.editedIngredient.component_id,callback:function(e){t.$set(t.editedIngredient,"component_id",e)},expression:"editedIngredient.component_id"}})],1)],1),i("v-layout",[i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-text-field",{attrs:{outlined:"",rules:t.numberRules,label:"Cantidad",type:"number"},model:{value:t.editedIngredient.quantity,callback:function(e){t.$set(t.editedIngredient,"quantity",e)},expression:"editedIngredient.quantity"}})],1),i("v-flex",{attrs:{xs12:"",sm6:""}},[i("v-autocomplete",{attrs:{outlined:"",rules:t.requiredRules,items:t.measureUnits,"item-value":"id","item-text":"name",label:"U/M","no-data-text":"No hay resultados"},model:{value:t.editedIngredient.measure_unit_id,callback:function(e){t.$set(t.editedIngredient,"measure_unit_id",e)},expression:"editedIngredient.measure_unit_id"}})],1)],1)],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{disabled:!t.validIngredientForm,color:"green darken-1",text:""},on:{click:function(e){return t.saveIngredient()}}},[t._v("Aceptar")]),i("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(e){t.dlgEditIngredient=!1}}},[t._v("Cancelar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var s=e.item;return[i("v-icon",{staticClass:"mr-2",attrs:{color:t.$store.getters.getThemeColor},on:{click:function(e){return t.showDlgEditIngredient(s)}}},[t._v("edit")]),i("v-icon",{attrs:{color:"warning"},on:{click:function(e){return t.removeIngredient(s)}}},[t._v("delete")])]}},{key:"no-data",fn:function(){return[i("v-card-text",{staticClass:"text-center"},[t._v("No hay elementos para mostrar")])]},proxy:!0}])})],1)],1)],1)],1),i("v-card-actions",{staticClass:"mr-5"},[i("v-spacer"),i("v-btn",{attrs:{disabled:t.updatingItem,color:t.$store.getters.getThemeColor,text:""},on:{click:function(e){return t.updateIngredients()}}},[t.updatingItem?i("v-progress-circular",{staticClass:"v-icon",attrs:{size:15,width:1,indeterminate:"",color:t.$store.getters.getThemeColor}}):i("v-icon",{attrs:{small:""}},[t._v("check")]),i("span",[t._v("Aceptar")])],1),i("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){t.dlgIngredients=!1}}},[t._v("Cancelar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var s=e.item;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-icon",t._g({staticClass:"mr-2",attrs:{color:t.$store.getters.getThemeColor},on:{click:function(e){return t.showDlgAddEdit(s)}}},n),[t._v("edit")])]}}],null,!0)},[i("span",[t._v("Editar")])]),"productos"===t.apiUrl&&s.category_needs_cooking?i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-icon",t._g({attrs:{color:"info"},on:{click:function(e){return t.showDlgIngredients(s)}}},n),[t._v("local_library")])]}}],null,!0)},[i("span",[t._v("Ingredientes")])]):t._e(),i("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[i("v-icon",t._g({attrs:{color:"warning"},on:{click:function(e){return t.showDlgDelete(s)}}},n),[t._v("delete")])]}}],null,!0)},[i("span",[t._v("Eliminar")])])]}},{key:"loading",fn:function(){return[i("VProgress",{staticClass:"text-center"})]},proxy:!0},{key:"no-data",fn:function(){return[t._v("No se han encontrado elementos.")]},proxy:!0}])}),i("AxiosComponent",{ref:"axios",on:{finish:function(e){return t.handleHttpResponse(e)}}})],1)},v=[],I={data(){return{validIngredientForm:!1,dlgUpdateItem:!1,dlgDeleteItem:!1,dlgIngredients:!1,dlgEditIngredient:!1,page:1,pageCount:0,loadingItems:!0,editedIndex:-1,editedItem:{},editedIngredients:[],editedIngredientIndex:-1,editedIngredient:{},validForm:!1,requiredRules:[t=>!!t||"Dato obligatorio"],numberRules:[t=>!!t||"Dato obligatorio",t=>t>0||"Dato incorrecto"],items:[],ingredients:[],categories:[],measureUnits:[],updatingItem:!1,deletingItem:!1,headers:[{text:"Nombre",value:"name",align:"left"},{text:"Estado",value:"status_name",align:"left"},{text:"Categoría",value:"category_name",align:"left"},{text:"Acciones",value:"action",align:"left",sortable:!1}],ingredientsHeaders:[{text:"Ingrediente",value:"name",align:"left"},{text:"Cantidad",value:"quantity",align:"left"},{text:"U/M",value:"measure_unit_name",align:"left"},{text:"Acciones",value:"action",align:"left",sortable:!1}]}},props:["apiUrl"],computed:{formTitle(){return-1===this.editedIndex?"Adicionar":"Editar"}},mounted(){this.getDataFromApi()},watch:{$route(t,e){this.getDataFromApi()}},methods:{handleHttpResponse(t){this.loadingItems=!1;let e=t.url.substring(t.url.lastIndexOf("/")+1);if(200===t.data.result.code){var i=t.data.result.response;switch(e){case"crear":case"editar":case"eliminar":this.dlgUpdateItem=!1,this.dlgDeleteItem=!1,this.updatingItem=!1,this.deletingItem=!1,"success"===i.code&&this.updateScopeObjects(i);break;case"listar":this.updateScopeObjects(i);break;case"editar-ingredientes":this.dlgIngredients=!1,this.updatingItem=!1,"success"===i.code&&this.updateScopeObjects(i);break;default:break}}else this.dlgUpdateItem=!1,this.dlgDeleteItem=!1,this.updatingItem=!1,this.deletingItem=!1},updateScopeObjects(t){this.items=t.data[0],this.ingredients=t.data[1],this.measureUnits=t.data[2],this.categories=t.data[3]},getDataFromApi(){this.loadingItems=!0,this.items=[];var t={url:this.apiUrl+"/listar",params:{}};this.$refs.axios.submit(t)},showDlgIngredients(t){this.editedIndex=this.items.indexOf(t),this.editedItem=Object.assign({},t),this.editedIngredients=this.editedItem.components.slice(),this.dlgIngredients=!0},showDlgAddEdit(t){t?(this.editedIndex=this.items.indexOf(t),this.editedItem=Object.assign({},t)):(this.editedIndex=-1,this.editedItem=Object.assign({},{id:-1,name:null})),this.dlgUpdateItem=!0},showDlgDelete(t){this.editedIndex=this.items.indexOf(t),this.editedItem=Object.assign({},t),this.dlgDeleteItem=!0},remove(){if(!this.deletingItem){this.deletingItem=!0;var t={method:"post",url:this.apiUrl+"/eliminar",params:{id:this.editedItem.id},snackbar:!0};this.$refs.axios.submit(t)}},save(){if(!this.updatingItem){this.updatingItem=!0;var t={method:"post",url:-1===this.editedItem.id?this.apiUrl+"/crear":this.apiUrl+"/editar",params:{item:this.editedItem},snackbar:!0};this.$refs.axios.submit(t)}},updateIngredients(){if(!this.updatingItem){this.updatingItem=!0;var t={method:"post",url:this.apiUrl+"/editar-ingredientes",params:{id:this.editedItem.id,ingredients:this.editedIngredients},snackbar:!0};this.$refs.axios.submit(t)}},showDlgEditIngredient(t){t?(this.editedIngredientIndex=this.editedIngredients.indexOf(t),this.editedIngredient=Object.assign({},t)):(this.editedIngredientIndex=-1,this.editedIngredient={measure_unit_name:null,name:null}),this.dlgEditIngredient=!0},removeIngredient(t){this.editedIngredientIndex=this.editedIngredients.indexOf(t),this.editedIngredients.splice(this.editedIngredientIndex,1)},getMeasureUnitById(t){return this.measureUnits.find(e=>e.id===t)},getIngredientById(t){return this.ingredients.find(e=>e.id===t)},removeDuplicateIngredients(){let t=[];for(let e=0;e<this.editedIngredients.length;e++){let i=t.findIndex(t=>t.component_id===this.editedIngredients[e].component_id&&t.measure_unit_id===this.editedIngredients[e].measure_unit_id);i>=0?t[i].quantity=parseInt(t[i].quantity)+parseInt(this.editedIngredients[e].quantity):t.push(this.editedIngredients[e])}this.editedIngredients=t},saveIngredient(){this.editedIngredient.name=this.getIngredientById(this.editedIngredient.component_id).name,this.editedIngredient.measure_unit_name=this.getMeasureUnitById(this.editedIngredient.measure_unit_id).name,this.editedIngredientIndex>-1?(this.editedIngredients[this.editedIngredientIndex].component_id=this.editedIngredient.component_id,this.editedIngredients[this.editedIngredientIndex].name=this.editedIngredient.name,this.editedIngredients[this.editedIngredientIndex].measure_unit_id=this.editedIngredient.measure_unit_id,this.editedIngredients[this.editedIngredientIndex].measure_unit_name=this.editedIngredient.measure_unit_name,this.editedIngredients[this.editedIngredientIndex].quantity=this.editedIngredient.quantity):this.editedIngredients.push(this.editedIngredient),this.removeDuplicateIngredients(),this.dlgEditIngredient=!1}}},f=I,x=i("c6a6"),b=i("8336"),_=i("b0af"),y=i("99d9"),C=i("ac7c"),k=i("a523"),A=i("8fea"),w=i("169a"),V=i("ce7e"),D=i("4bd4"),$=i("132d"),T=i("a722"),S=i("490a"),O=i("2fa4"),E=i("8654"),U=i("71d9"),F=i("2a7f"),j=i("3a2f"),L=Object(l["a"])(f,p,v,!1,null,null,null),q=L.exports;u()(L,{VAutocomplete:x["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VCheckbox:C["a"],VContainer:k["a"],VDataTable:A["a"],VDialog:w["a"],VDivider:V["a"],VFlex:h["a"],VForm:D["a"],VIcon:$["a"],VLayout:T["a"],VProgressCircular:S["a"],VSpacer:O["a"],VTextField:E["a"],VToolbar:U["a"],VToolbarTitle:F["b"],VTooltip:j["a"]});var B={data:()=>({drawer:null,currAction:null,permissions:[]}),components:{Index:g,AssetType:q},beforeRouteUpdate(t,e,i){this.verifyAction(t.params.action),i()},mounted(){this.permissions=this.$store.getters.getPermissions("Productos"),this.verifyAction(this.$route.params.action)},methods:{verifyAction(t){if(this.currAction=t,"inicio"!==t){let e=!1;this.$store.getters.getPermissions("Productos").forEach(i=>{let s=i.slug.substring(i.slug.lastIndexOf("/")+1);s===t&&(e=!0)}),e||this.$router.push("/not-found")}}}},P=B,R=i("8860"),M=i("da13"),N=i("1800"),z=i("5d23"),H=Object(l["a"])(P,s,n,!1,null,null,null);e["default"]=H.exports;u()(H,{VCard:_["a"],VContainer:k["a"],VFlex:h["a"],VIcon:$["a"],VLayout:T["a"],VList:R["a"],VListItem:M["a"],VListItemAction:N["a"],VListItemContent:z["a"],VListItemTitle:z["c"]})},ec29:function(t,e,i){}}]);
//# sourceMappingURL=chunk-0fe40369.eceb35a7.js.map